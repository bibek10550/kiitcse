const fileUrls1stPYQs = {
    // sample
    // "dbms_solution_spring_end_semester_2023": ['https://raw.githubusercontent.com/bibekchandsah/files/main/trash/bin/download/KIIT%202022/B.Tech%204th%20semester/DBMS/PYQS/DBMS%20Solution%20(Spring%20End%20sem%202023).doc'],

    // Environmental Science
    "EVS_PYQs_2015_Autumn_EndSem": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/EVS/PYQs/2015%20Autumn%20Endsem.pdf'],
    "EVS_PYQs_2015_Autumn_Midsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/EVS/PYQs/2015%20Autumn%20Midsem.pdf"],
    "EVS_PYQs_2016_Autumn_EndSem": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/EVS/PYQs/2016%20Autumn%20Endsem.pdf'],
    "EVS_PYQs_2016_Autumn_Midsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/EVS/PYQs/2016%20Autumn%20Midsem.pdf"],
    "EVS_PYQs_2016_Spring_EndSem": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/EVS/PYQs/2016%20Spring%20Endsem.pdf'],
    "EVS_PYQs_2022_Autumn_Mid_Sem_Que": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/EVS/PYQs/2022%20Autumn%20Mid%20Sem%20Que.jpg'],
    "EVS_PYQs_2022_Autumn_Mid_Sem_Ans": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/EVS/PYQs/2022%20autumn%20mid%20sem%20ans.pdf'],







    // Life Science
    "LifeScience_PYQs_2022_autumn_mid-sem_ans": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/LifeScience/PYQs/2022%20autumn%20mid-sem%20ans.pdf'],

    "LifeScience_PYQs_2022_autumn_mid-sem_que": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/LifeScience/PYQs/2022%20autumn%20mid-sem%20que.jpg'],

    "LifeScience_PYQs_mid-sem_que": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/LifeScience/PYQs/mid-sem%20que.pdf'],





    // Diff Eqn and Linear Alg
    "Diff_Eqn_and_Linear_PYQs_2015_mid_sem_evaluation": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/2015%20mid%20sem%20evaluation.pdf'],

    "Diff_Eqn_and_Linear_PYQs_2016_mid_sem": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/2016%20mid%20sem.pdf'],

    "Diff_Eqn_and_Linear_PYQs_2018_autumn_mid_sem": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/2018%20autumn%20mid%20sem.pdf'],

    "Diff_Eqn_and_Linear_PYQs_2019_autumn_mid_sem": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/2019%20autumn%20mid%20seme.pdf'],

    "Diff_Eqn_and_Linear_PYQs_2021_online_autumn_mid_sem": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/2021%20(online)%20autumn%20mid%20sem.pdf'],

    "Diff_Eqn_and_Linear_PYQs_2022_autumn_mid_sem_que": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/2022%20autumn%20mid%20sem%20que.jpg'],

    "Diff_Eqn_and_Linear_PYQs_2022_autumn_mid_sem_ans": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/2022%20autumn%20mid-sem%20ans.pdf'],

    "Diff_Eqn_and_Linear_PYQs_end_sem_long_question": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/end%20sem%20long%20question.jpg'],

    "Diff_Eqn_and_Linear_PYQs_math_mid_sem_manual_solution": ['https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Math/PYQs/math%20mid-sem%20manual%20solution.pdf'],





    // C Lab






    // Bio-Medical





    // ED and Graph






    // Optimization Technique
    "OT_PYQs_2022_autumn_mid_sem_que_soln": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/OT/PYQs/2022%20autumn%20mid%20sem%20que%20soln.pdf"],
    "OT_PYQs_2022_autumn_mid_sem_que": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/OT/PYQs/2022%20autumn%20mid%20sem%20que.jpg"],






    // Physics
    "Physics_PYQs_2014_Autumn_Endsem_Set-2": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2014%20Autumn%20Endsem%20Set-2.pdf"],
    "Physics_PYQs_2014_Autumn_Endsem_Supplementary": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2014%20Autumn%20Endsem%20Supplementary.pdf"],
    "Physics_PYQs_2014_Autumn_Endsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2014%20Autumn%20Endsem.pdf"],
    "Physics_PYQs_2014_Midsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2014%20Midsem.pdf"],
    "Physics_PYQs_2014_Spring_Endsem_Set-2": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2014%20Spring%20Endsem%20Set-2.pdf"],
    "Physics_PYQs_2014_Spring_Endsem_Set-3": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2014%20Spring%20Endsem%20Set-3.pdf"],
    "Physics_PYQs_2014_Spring_Endsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2014%20Spring%20Endsem.pdf"],
    "Physics_PYQs_2015_Autumn_Endsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2015%20Autumn%20Endsem.pdf"],
    "Physics_PYQs_2016_Midsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2016%20Midsem.pdf"],
    "Physics_PYQs_2016_Spring_endsem_Set-2": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2016%20Spring%20endsem%20Set-2.pdf"],
    "Physics_PYQs_2016_Spring_endsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2016%20Spring%20endsem.pdf"],
    "Physics_PYQs_2017_Spring_Endsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2017%20Spring%20Endsem.pdf"],
    "Physics_PYQs_2022_autumn_mid_sem_que": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/2022%20autumn%20mid%20sem%20que.jpg"],
    "Physics_PYQs_2022_Autumn_Endsem": ["https://github.com/bibekchandsah/files/blob/main/trash/bin/download/KIIT%202022/B.Tech%201st%20semester/Physics/PYQs/Physics.pdf"],









    // Add more file URLs here
};


const folderUrls1stPYQs = {
    // https://api.github.com/repos/bibekchandsah/
    // dbms: 'https://api.github.com/repos/bibekchandsah/files/contents/trash/bin/download/KIIT%202022/B.Tech%204th%20semester/DBMS/PYQS',


    // Add more folder URLs here
};






// pdf preview
// document.addEventListener("DOMContentLoaded", function () {
//     var buttons = document.querySelectorAll(".clickLink");

//     buttons.forEach(function (button) {
//         button.addEventListener("click", function () {
//             var linkKey = this.getAttribute('data-id');
//             let link;
//             // if (fileUrls[linkKey]) {
//             //     link = fileUrls[linkKey][0];}
//             if (fileUrls1stPYQs[linkKey]) {
//                 link = fileUrls1stPYQs[linkKey][0];
//             } else {
//                 console.error("URL not found for key: " + linkKey);
//                 return;
//             }

//             // Check if the URL is from GitHub and contains "blob"
//             if (link.includes("github.com") && link.includes("blob")) {
//                 // Replace "blob" with "raw"
//                 link = link.replace("blob", "raw");
//             }

//             // var googleDocsURL = "https://docs.google.com/gview?url=" + encodeURIComponent(link) + "&embedded=true";
//             // document.getElementById("myframe").src = googleDocsURL;

//             // If the URL is not from GitHub, keep it unchanged
//             var googleDocsURL;
//             if (link.includes("github.com")) {
//                 googleDocsURL = "https://docs.google.com/gview?url=" + encodeURIComponent(link) + "&embedded=true";
//             } else {
//                 googleDocsURL = link;
//             }
// //             document.getElementById("myframe").src = googleDocsURL;

// //             // Set modal title
// //             var modalTitle = this.getAttribute('data-id');
// //             document.getElementById("modalTitle").innerText = modalTitle;

// //             // Update download button text
// //             var downloadButton = document.getElementById("modalDownload");
// //             downloadButton.textContent = "Download";
// //             downloadButton.setAttribute("onclick", "downloadFiles(['" + linkKey + "'], this)");
// //         });
// //     });
// // });

//             // Clear the iframe content before setting the new source
//             var iframe = document.getElementById("myframe");
//             iframe.src = ''; // Clear iframe content to avoid showing old content
//             iframe.src = googleDocsURL; // Set the new content



//             // Set modal title
//             var modalTitle = this.getAttribute('data-id');
//             document.getElementById("modalTitle").innerText = modalTitle;

//             // Update download button text
//             var downloadButton = document.getElementById("modalDownload");
//             downloadButton.textContent = "Download";
//             downloadButton.setAttribute("onclick", "downloadFiles(['" + linkKey + "'], this)");

//             // Store the current link for refresh purpose
//             var refreshButton = document.querySelector(".pdfRefresh");
//             refreshButton.setAttribute("data-link", googleDocsURL); // Set data-link to the refresh button
//         });
//     });

//     // Handle the .pdfRefresh button click
//     var refreshButton = document.querySelector(".pdfRefresh");
//     refreshButton.addEventListener("click", function () {
//         var googleDocsURL = this.getAttribute("data-link");
//         if (googleDocsURL) {
//             document.getElementById("myframe").src = googleDocsURL;
//         } else {
//             console.error("No URL found to refresh.");
//         }
//     });
// });







document.addEventListener("DOMContentLoaded", function () {
    var buttons = document.querySelectorAll(".clickLink");

    buttons.forEach(function (button) {
        button.addEventListener("click", function () {
            var linkKey = this.getAttribute('data-id');
            let link;
            if (fileUrls1stPYQs[linkKey]) {
                link = fileUrls1stPYQs[linkKey][0];
            } else {
                console.error("URL not found for key: " + linkKey);
                return;
            }

            // Prepare URL for Google Docs Viewer
            if (link.includes("github.com") && link.includes("blob")) {
                link = link.replace("blob", "raw");
            }
            var googleDocsURL = "https://docs.google.com/gview?url=" + encodeURIComponent(link) + "&embedded=true";

            // Clear and load content for the first modal
            // var iframe1 = document.getElementById("myframe1");
            // iframe1.src = ''; // Clear the previous content
            // iframe1.src = googleDocsURL; // Load the new content

            document.getElementById("myframe").src = googleDocsURL;

            var modalTitle1 = document.getElementById("modalTitle");
            modalTitle1.innerText = "Modal 1: " + linkKey; // Update modal title

            // Set download button action for the first modal
            var downloadButton1 = document.getElementById("modalDownload");
            downloadButton1.setAttribute("onclick", "downloadFiles(['" + linkKey + "'], this)");

            // Store the link for refreshing in the first modal
            var refreshButton1 = document.getElementById("pdfRefresh");
            refreshButton1.setAttribute("data-link", googleDocsURL);

            // Repeat the same process for the second modal (using the same link for simplicity)
            // var iframe2 = document.getElementById("myframe2");
            // iframe2.src = ''; // Clear the previous content
            // iframe2.src = googleDocsURL; // Load the new content

            document.getElementById("myframe").src = googleDocsURL;

            var modalTitle2 = document.getElementById("modalTitle");
            modalTitle2.innerText = "Modal 2: " + linkKey; // Update modal title

            var downloadButton2 = document.getElementById("modalDownload");
            downloadButton2.setAttribute("onclick", "downloadFiles(['" + linkKey + "'], this)");

            var refreshButton2 = document.getElementById("pdfRefresh");
            refreshButton2.setAttribute("data-link", googleDocsURL);
        });
    });

    // Handle refresh buttons for both modals
    var refreshButton1 = document.getElementById("pdfRefresh");
    if (refreshButton1) {
        refreshButton1.addEventListener("click", function () {
            var googleDocsURL = this.getAttribute("data-link");
            if (googleDocsURL) {
                document.getElementById("myframe").src = googleDocsURL;
            }
        });
    }

    var refreshButton2 = document.getElementById("pdfRefresh");
    if (refreshButton2) {
        refreshButton2.addEventListener("click", function () {
            var googleDocsURL = this.getAttribute("data-link");
            if (googleDocsURL) {
                document.getElementById("myframe").src = googleDocsURL;
            }
        });
    }
});








// store the subject data
// Initialize an empty JSON object to store the data
let subjectData = {};
// Function to update the JSON object with new data
function updateSubjectData(...entries) {
    // Loop through each entry in the arguments
    for (let i = 0; i < entries.length; i += 8) {
        let subject = entries[i];
        let year = entries[i + 1];
        let exam = entries[i + 2];
        let question = entries[i + 3];
        let questionValue = entries[i + 4];
        let solution = entries[i + 5];
        let solutionStatus = entries[i + 6];
        let solutionValue = entries[i + 7];
        // Check if the subject already exists in the JSON object
        if (!subjectData.hasOwnProperty(subject)) {
            // If not, initialize it with an empty array
            subjectData[subject] = [];
        }
        // Push new data to the array corresponding to the subject
        subjectData[subject].push({
            "year": year,
            "exam": exam,
            "question": question,
            "question-value": questionValue,
            "solution": solution,
            "solution-status": solutionStatus,
            "solution-value": solutionValue
        });
    }
}
// Clear the existing data in subjectData (assuming it's an object)
subjectData = {};
// Example usage:
updateSubjectData(
    // EVS = Environmental Science
    "Environmental Science", 2015, "End Semester", "Autumn End Semester", "EVS_PYQs_2015_Autumn_EndSem", "", "Not Available", "EVS_PYQs_2015_Autumn_EndSem",
    "Environmental Science", 2015, "Mid Semester", "Autumn Mid Semester", "EVS_PYQs_2015_Autumn_Midsem", "", "Not Available", "EVS_PYQs_2015_Autumn_Midsem",
    "Environmental Science", 2016, "End Semester", "Autumn End Semester", "EVS_PYQs_2016_Autumn_EndSem", "", "Not Available", "EVS_PYQs_2016_Autumn_EndSem",
    "Environmental Science", 2016, "End Semester", "Spring End Semester", "EVS_PYQs_2016_Spring_EndSem", "", "Not Available", "EVS_PYQs_2016_Spring_EndSem",
    "Environmental Science", 2016, "Mid Semester", "Autumn Mid Semester", "EVS_PYQs_2016_Autumn_Midsem", "", "Not Available", "EVS_PYQs_2016_Autumn_Midsem",
    "Environmental Science", 2022, "Mid Semester", "Autumn Mid Semester", "EVS_PYQs_2022_Autumn_Mid_Sem_Que", "Solution", "Available", "EVS_PYQs_2022_Autumn_Mid_Sem_Ans",



    // Life Science 
    "Life Science", 2022, "Mid Semester", "Autumn Mid Semester", "LifeScience_PYQs_2022_autumn_mid-sem_que", "Solution", "Available", "LifeScience_PYQs_2022_autumn_mid-sem_ans",
    "Life Science", 2023, "Mid Semester", "Mid Semester", "LifeScience_PYQs_mid-sem_que", "", "Not Available", "LifeScience_PYQs_mid-sem_que",

    // Diff Eqn and Lin Alg 
    "Diff Eqn and Linear Alg", 2015, "Mid Semester", "Mid Semester Evaluation", "Diff_Eqn_and_Linear_PYQs_2015_mid_sem_evaluation", "Solution", "Available", "Diff_Eqn_and_Linear_PYQs_2015_mid_sem_evaluation",
    "Diff Eqn and Linear Alg", 2016, "Mid Semester", "Mid Semester", "Diff_Eqn_and_Linear_PYQs_2016_mid_sem", "", "Not Available", "Diff_Eqn_and_Linear_PYQs_2016_mid_sem",
    "Diff Eqn and Linear Alg", 2018, "Mid Semester", "Autumn Mid Semester", "Diff_Eqn_and_Linear_PYQs_2018_autumn_mid_sem", "", "Not Available", "Diff_Eqn_and_Linear_PYQs_2018_autumn_mid_sem",
    "Diff Eqn and Linear Alg", 2019, "Mid Semester", "Autumn Mid Semester", "Diff_Eqn_and_Linear_PYQs_2019_autumn_mid_sem", "", "Not Available", "Diff_Eqn_and_Linear_PYQs_2019_autumn_mid_sem",
    "Diff Eqn and Linear Alg", 2021, "Mid Semester", "Online Autumn Mid Semester", "Diff_Eqn_and_Linear_PYQs_2021_online_autumn_mid_sem", "", "Not Available", "Diff_Eqn_and_Linear_PYQs_2021_online_autumn_mid_sem",
    "Diff Eqn and Linear Alg", 2022, "Mid Semester", "Autumn Mid Semester", "Diff_Eqn_and_Linear_PYQs_2022_autumn_mid_sem_que", "Solution", "Available", "Diff_Eqn_and_Linear_PYQs_2022_autumn_mid_sem_ans",
    "Diff Eqn and Linear Alg", 2023, "End Semester", "End Semester Long Question", "Diff_Eqn_and_Linear_PYQs_end_sem_long_question", "Other", "Available", "Diff_Eqn_and_Linear_PYQs_end_sem_long_question",
    "Diff Eqn and Linear Alg", 2023, "Mid Semester", "Mid Semester Solution", "Diff_Eqn_and_Linear_PYQs_math_mid_sem_manual_solution", "Solution", "Available", "Diff_Eqn_and_Linear_PYQs_math_mid_sem_manual_solution",

    // C Lab


    // Bio-Medical


    // ED and Graph


    // Optimization Technique
    "Optimization Technique", 2022, "Mid Semester", "Autumn Mid Semester", "OT_PYQs_2022_autumn_mid_sem_que", "Solution", "Available", "OT_PYQs_2022_autumn_mid_sem_que_soln",



    // Physics
    "Physics", 2014, "End Semester", "Autumn Endsem Set-2", "Physics_PYQs_2014_Autumn_Endsem_Set-2", "", "Not Available", "Physics_PYQs_2014_Autumn_Endsem_Set-2",
    "Physics", 2014, "End Semester", "Autumn Endsem Supplementary", "Physics_PYQs_2014_Autumn_Endsem_Supplementary", "", "Not Available", "Physics_PYQs_2014_Autumn_Endsem_Supplementary",
    "Physics", 2014, "End Semester", "Autumn Endsem", "Physics_PYQs_2014_Autumn_Endsem", "", "Not Available", "Physics_PYQs_2014_Autumn_Endsem",
    "Physics", 2014, "Mid Semester", "Midsem", "Physics_PYQs_2014_Midsem", "", "Not Available", "Physics_PYQs_2014_Midsem",
    "Physics", 2014, "End Semester", "Spring Endsem Set-2", "Physics_PYQs_2014_Spring_Endsem_Set-2", "", "Not Available", "Physics_PYQs_2014_Spring_Endsem_Set-2",
    "Physics", 2014, "End Semester", "Spring Endsem Set-3", "Physics_PYQs_2014_Spring_Endsem_Set-3", "", "Not Available", "Physics_PYQs_2014_Spring_Endsem_Set-3",
    "Physics", 2014, "End Semester", "Spring Endsem", "Physics_PYQs_2014_Spring_Endsem", "", "Not Available", "Physics_PYQs_2014_Spring_Endsem",
    "Physics", 2015, "End Semester", "Autumn Endsem", "Physics_PYQs_2015_Autumn_Endsem", "", "Not Available", "Physics_PYQs_2015_Autumn_Endsem",
    "Physics", 2016, "Mid Semester", "Midsem", "Physics_PYQs_2016_Midsem", "", "Not Available", "Physics_PYQs_2016_Midsem",
    "Physics", 2016, "End Semester", "Spring endsem Set-2", "Physics_PYQs_2016_Spring_endsem_Set-2", "", "Not Available", "Physics_PYQs_2016_Spring_endsem_Set-2",
    "Physics", 2016, "End Semester", "Spring endsem", "Physics_PYQs_2016_Spring_endsem", "", "Not Available", "Physics_PYQs_2016_Spring_endsem",
    "Physics", 2017, "End Semester", "Spring Endsem", "Physics_PYQs_2017_Spring_Endsem", "", "Not Available", "Physics_PYQs_2017_Spring_Endsem",
    "Physics", 2022, "Mid Semester", "Autumn mid sem que", "Physics_PYQs_2022_autumn_mid_sem_que", "", "Not Available", "Physics_PYQs_2022_autumn_mid_sem_que",
    "Physics", 2022, "End Semester", "Autumn End Semester", "Physics_PYQs_2022_Autumn_Endsem", "", "Not Available", "Physics_PYQs_2022_Autumn_Endsem",




);
// Call the function to generate table rows based on existing subject data
generateTableRows();
// Accessing the JSON object:
// // console.log(subjectData);




